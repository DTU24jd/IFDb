{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/38598/Downloads/IFDB2-main/IFDB2-main/src/components/FavoritesGrid.tsx"],"sourcesContent":["/*\n  FavoritesGrid prikazuje grid omiljenih serija i omogućuje njihovo brisanje.\n  ZAŠTO: Centralizirano upravljanje favoritima na jednoj stranici poboljšava UX i održavanje koda.\n*/\n'use client';\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\ntype Show = {\n  id: number;\n  name: string;\n  image?: { medium: string };\n};\n\nexport default function FavoritesGrid() {\n  const [favorites, setFavorites] = useState<Show[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Dohvati favorite s backend API-ja\n  useEffect(() => {\n    fetch('/api/favorites')\n      .then(res => res.json())\n      .then((ids: number[]) =>\n        Promise.all(\n          ids.map((id) => fetch(`https://api.tvmaze.com/shows/${id}`).then(res => res.json()))\n        )\n      )\n      .then((shows) => { setFavorites(shows); setLoading(false); })\n      .catch(() => setLoading(false));\n  }, []);\n\n  // Brisanje serije iz favorita\n  const removeFavorite = async (id: number) => {\n    await fetch('/api/favorites', {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ id }),\n    });\n    setFavorites(favorites.filter((s) => s.id !== id));\n  };\n\n  if (loading) return <p>Učitavanje favorita...</p>;\n  if (favorites.length === 0) {\n    return <p>Nemate spremljene serije.</p>;\n  }\n\n  return (\n    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n      {favorites.map((show) => (\n        <div key={show.id} className=\"border rounded p-3 shadow bg-white flex flex-col items-center\">\n          <Link href={`/shows/${show.id}`} className=\"w-full\">\n            <img src={show.image?.medium} alt={show.name} className=\"w-full rounded mb-2\" />\n            <div className=\"font-semibold text-center\">{show.name}</div>\n          </Link>\n          <button\n            onClick={() => removeFavorite(show.id)}\n            className=\"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition\"\n          >\n            Ukloni iz favorita\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;AAGA;;;;AAGA;AACA;;;AAHA;;;AAWe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,oCAAoC;IACpC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,kBACH,IAAI;2CAAC,CAAA,MAAO,IAAI,IAAI;0CACpB,IAAI;2CAAC,CAAC,MACL,QAAQ,GAAG,CACT,IAAI,GAAG;mDAAC,CAAC,KAAO,MAAM,CAAC,6BAA6B,EAAE,IAAI,EAAE,IAAI;2DAAC,CAAA,MAAO,IAAI,IAAI;;;0CAGnF,IAAI;2CAAC,CAAC;oBAAY,aAAa;oBAAQ,WAAW;gBAAQ;0CAC1D,KAAK;2CAAC,IAAM,WAAW;;QAC5B;kCAAG,EAAE;IAEL,8BAA8B;IAC9B,MAAM,iBAAiB,OAAO;QAC5B,MAAM,MAAM,kBAAkB;YAC5B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAG;QAC5B;QACA,aAAa,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD;IAEA,IAAI,SAAS,qBAAO,6LAAC;kBAAE;;;;;;IACvB,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBAAO,6LAAC;sBAAE;;;;;;IACZ;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;gBAAkB,WAAU;;kCAC3B,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;wBAAE,WAAU;;0CACzC,6LAAC;gCAAI,KAAK,KAAK,KAAK,EAAE;gCAAQ,KAAK,KAAK,IAAI;gCAAE,WAAU;;;;;;0CACxD,6LAAC;gCAAI,WAAU;0CAA6B,KAAK,IAAI;;;;;;;;;;;;kCAEvD,6LAAC;wBACC,SAAS,IAAM,eAAe,KAAK,EAAE;wBACrC,WAAU;kCACX;;;;;;;eARO,KAAK,EAAE;;;;;;;;;;AAezB;GAlDwB;KAAA"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}